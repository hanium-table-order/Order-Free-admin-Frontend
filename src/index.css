/* =========================================================
   Global Design Tokens — Toss-like + Orange (공통)
   ========================================================= */
:root{
  /* Brand */
  --brand: #ff6b00;
  --brand-600: #ff7e22;
  --brand-700: #e66000;
  --brand-tint: #ffe9d7;
  --brand-tint-2: #fff4ea;

  /* Status tints (실시간 주문 카드용 파스텔) */
  --tint-new:  #FFEDE6;
  --tint-prep: #FFF7DA;
  --tint-done: #ECFFF6;

  /* Neutral */
  --ink: #111827;
  --sub: #6b7280;
  --muted: #9ca3af;
  --line: #e5e7eb;
  --bg: #f7f8fa;
  --surface: #ffffff;

  /* Spacing */
  --s-1: 4px; --s-2: 8px; --s-3: 12px; --s-4: 16px; --s-5: 20px;
  --s-6: 24px; --s-7: 28px; --s-8: 32px; --s-10: 40px;

  /* Radius / Shadow */
  --r-8: 8px; --r-10: 10px; --r-12: 12px; --r-16: 16px; --r-20: 20px; --pill: 999px;
  --shadow-sm: 0 2px 6px rgba(0,0,0,.06);
}

/* =========================================================
   Base
   ========================================================= */
*{ box-sizing: border-box; }
html, body, #root { height: 100%; }
body{
  margin: 0;
  background: var(--bg);
  color: var(--ink);
  font-family: Pretendard, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif;
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
}
a{ color: inherit; text-decoration: none; }
button{ font-family: inherit; }
.container{ max-width: 1200px; margin: 0 auto; padding: 0 var(--s-4); }

h1 { margin: 8px 0; line-height: 1.2; }

/* =========================================================
   Header (Title + Tabs) — 공통 상단
   ========================================================= */
.topbar{
  position: sticky; top: 0; z-index: 10;
  background: #fff; border-bottom: 1px solid var(--line);
}
.header-stack{
  display: flex; flex-direction: column; gap: 2px;
  padding: var(--s-8) 0 var(--s-4);
}
.app-title{ font-size: 28px; font-weight: 800; letter-spacing: -0.2px; color: #ff6b00; }
.app-subtitle{ font-size: 14px; color: var(--sub); }

.tabs-wrap{ margin-top: 0; margin-bottom: 8px; }
.tabs-bar{
  display: flex; gap: 28px; align-items: center; justify-content: center;
  padding: 12px 20px;
  background: #fff;
  border: 1px solid var(--line); border-radius: 14px;
  box-shadow: var(--shadow-sm);
}
.tab-pill{
  position: relative;
  display: inline-flex; align-items: center; gap: 10px;
  padding: 10px 12px;
  color: #606a79; font-weight: 700; font-size: 15px;
  border-radius: 12px; border: 1px solid transparent; background: transparent;
  transition: background .15s, color .15s, border-color .15s, transform .04s;
}
.tab-pill:hover{ background: var(--brand-tint-2); color: var(--brand-700); }
.tab-pill:active{ transform: translateY(1px); }
.tab-pill.active{
  color: var(--brand-700); background: #fff; border-color: var(--brand); box-shadow: var(--shadow-sm);
}
.tab-pill.active::after{
  content:""; position:absolute; left:10px; right:10px; bottom:-12px; height:2px;
  background: var(--brand); border-radius: 2px;
}
.tab-ico svg{ display:block; color: currentColor; }
.tab-label{ font-size: 15px; }

/* =========================================================
   공통 UI (버튼/스위치/칩/카드/그리드)
   ========================================================= */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:10px 14px; min-height:36px; line-height:1; white-space:nowrap;
  border-radius:12px; border:1px solid var(--line);
  background:#fff; color:#111827; font-weight:700; cursor:pointer;
  transition:background .15s, color .15s, border-color .15s, transform .04s;
}
.btn:hover{ background:#f6f7f9; }
.btn:active{ transform: translateY(1px); }
.btn.primary{ background: var(--brand); border-color: var(--brand); color:#fff; }
.btn.primary:hover{ background: var(--brand-600); }
.btn.ghost { background:#fff; color: var(--brand-700); border-color:#ffd9be; }
.btn.ghost:hover{ background:#fff6ef; }
.btn.outline{ background:#fff; color:#111827; border:1.5px solid var(--line); }
.btn.outline:hover{ background:#f6f7f9; }
.btn.danger{ background:#ff6b00; border-color:#ff6b00; color:#fff; }
.btn.danger:hover{ filter:brightness(0.98); }

.switch{ position:relative; width: 56px; height: 30px; }
.switch input{ display:none; }
.slider{
  position:absolute; inset:0; background:#d1d5db; border-radius: var(--pill); transition:.2s;
}
.slider:before{
  content:""; position:absolute; left:3px; bottom:3px; width:24px; height:24px; border-radius:50%;
  background:#fff; box-shadow:0 1px 2px rgba(0,0,0,.12); transition:.2s;
}
input:checked + .slider{ background: var(--brand); }
input:checked + .slider:before{ transform: translateX(26px); }

.chip{
  background:#fff6ef; color: var(--brand-700);
  border:1px solid #ffd9be; padding:8px 12px; border-radius: var(--pill); font-weight:700;
}

.grid{ display:grid; gap: var(--s-6); }
.grid-3{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
@media (max-width: 1100px){ .grid-3{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 740px){  .grid-3{ grid-template-columns: 1fr; } }

.card{
  background:#fff; border:1px solid var(--line);
  border-radius:16px; padding:16px;
  box-shadow: 0 1px 4px rgba(0,0,0,.06);
}

/* 공통 배지 (회색) — 중복 제거, 이 규칙만 사용 */
.badge{
  display:inline-flex; align-items:center; justify-content:center;
  padding:6px 10px; border-radius:999px; font-weight:700; font-size:13px; white-space:nowrap;
}
.badge.orange{ background:#fff6ef; border:1px solid #ffd9be; color:var(--brand-700) }
.badge.green{  background:#ecfdf5; border:1px solid #bbf7d0; color:#047857 }
.badge.gray{   background:#f3f4f6; border:1px solid #e5e7eb; color:#475569 }
.badge.red{    background:#fef2f2; border:1px solid #fecaca; color:#b91c1c }

/* =========================================================
   실시간 주문(공통 컨트롤만)
   ========================================================= */
.controls{ display:flex; align-items:center; gap: var(--s-4); margin: 16px 0 20px 0; }
.kv{ display:flex; align-items:center; gap: 10px; color: var(--sub); font-weight: 700; }

/* =========================================================
   메뉴 관리 (MenuPage)
   ========================================================= */
.page.page-menu .container { padding: 0; }
.menu-card{ padding:16px; }
.menu-toolbar{ display:flex; gap:12px; align-items:center; margin-bottom:14px; }
.menu-search{
  flex:1; min-width:220px; padding:12px 14px; border:1.5px solid var(--line); border-radius:12px;
  background:#fff; outline:none; font-size:15px;
}
.menu-search::placeholder{ color:#9aa3ad }
.menu-search:focus{ border-color: var(--brand); box-shadow: 0 0 0 3px rgba(255,107,0,.10) }
.menu-select{
  padding:12px 14px; border:1.5px solid var(--line); border-radius:12px; background:#fff; outline:none; font-size:15px;
}
.menu-select:focus{ border-color: var(--brand); box-shadow: 0 0 0 3px rgba(255,107,0,.10) }

.menu-table{ width: 100%; border-collapse: collapse; margin: 0; }
.menu-table thead{ background:#f9fafb; border-bottom: 2px solid #e5e7eb; }
.menu-table thead th{ padding: 12px 16px; font-weight: 600; color:#374151; text-align: left; }
.menu-table tbody tr{ border-bottom: 1px solid #f1f5f9; }
.menu-table tbody td{ padding: 12px 16px; }

/* 컬럼 정렬/너비 */
.col-photo{ width:72px; text-align:center; }
.col-name{ width:28%; text-align:center; }
.col-cat{ width:18%; text-align:center; }
.col-price{ width:14%; text-align:center; padding-right:18px; }
.col-status{ width:30%; text-align:center; }
.col-actions{ width:90px; text-align:center; }

.thumb{ width:40px; height:40px; border-radius:8px; background:#f3f4f6; border:1px solid #edf0f3 }
.status-cell{ display:flex; align-items:center; gap:10px; min-width:0 }
.status.on{ color:#16a34a; font-weight:700 }
.status.off{ color:#ef4444; font-weight:700 }

/* =========================================================
   Modal / Form / Upload (메뉴 생성/수정 공용)
   ========================================================= */
.modal-backdrop{
  position:fixed; inset:0; z-index:50;
  background:rgba(0,0,0,.45);
  display:flex; align-items:flex-start; justify-content:center;
  padding:24px 16px;
}
.modal-panel{
  background:#fff; border-radius:16px; border:1px solid var(--line);
  box-shadow:0 12px 40px rgba(0,0,0,.18);
  overflow:hidden; transform:translateY(12px); animation:modal-up .18s ease-out forwards;
}
@keyframes modal-up{ from{ transform:translateY(24px); opacity:.9 } to{ transform:translateY(0); opacity:1 } }
.modal-header{ display:flex; align-items:center; justify-content:space-between; padding:18px 20px; border-bottom:1px solid #f0f2f4; }
.modal-title{ font-size:20px; font-weight:800; }
.modal-close{ appearance:none; border:0; background:transparent; font-size:28px; line-height:1; cursor:pointer; color:#6b7280 }
.modal-body{ padding:20px; }
.modal-footer{ display:flex; gap:8px; justify-content:flex-end; padding-top:10px; }

.form-vert{ display:grid; gap:12px }
.f-label{ font-weight:700; margin-top:6px; color:#374151 }
.f-input{
  width:100%; padding:12px 14px; border:1.5px solid var(--line); border-radius:12px; outline:none; font-size:15px; background:#fff;
}
.f-input:focus{ border-color:var(--brand); box-shadow:0 0 0 3px rgba(255,107,0,.10) }

.upload-area{
  width:100%; height:320px; background:#f3f4f6; border:2px dashed var(--line);
  border-radius:12px; display:flex; align-items:center; justify-content:center;
  cursor:pointer; overflow:hidden;
}
.upload-empty{ display:flex; flex-direction:column; align-items:center; gap:8px; color:#9ca3af }

/* =========================================================
   테이블 관리 (TablesPage) — 리스트 & 툴바
   ========================================================= */
.page.page-tables .container { padding-top: 8px; }
.page-tables .page-title{ margin: 10px 0 8px; line-height: 1.15; font-size: 28px; font-weight: 800; }
.page-tables .toolbar-right{ display: flex; gap: 8px; justify-content: flex-end; align-items: center; margin: 6px 0 12px; }
.page-tables .card{ padding: 16px 18px; }
.page-tables .section-title{ margin: 0 0 10px; font-size: 16px; font-weight: 800; }

.page-tables .table{ width: 100%; border-collapse: collapse; }
.page-tables .table thead th{
  background: #f9fafb; border-bottom: 1px solid var(--line);
  padding: 10px 12px; font-weight: 700; color: #374151; text-align: center;
}
.page-tables .table tbody td{ padding: 12px; border-bottom: 1px solid #f1f5f9; text-align: center; }
.page-tables .table tbody tr:hover{ background: #fafafa; }
.page-tables .table tbody td:first-child{ text-align: left; }

/* =========================================================
   스토어(가게 설정) 페이지
   ========================================================= */
.page.page-store .container { padding-top: 8px; }
.page-store .page-title{ margin: 10px 0 8px; line-height: 1.15; font-size: 28px; font-weight: 800; }
.page-store .toolbar-right{ display: flex; gap: 8px; justify-content: flex-end; align-items: center; margin: 6px 0 12px; }

.page-store .card{ background: var(--surface); border: 1px solid var(--line); border-radius: var(--r-16); padding: 18px; box-shadow: var(--shadow-sm); }
.page-store .section{ display: grid; gap: 16px; margin-bottom: 16px; }
.page-store .section-title{ margin: 2px 0 6px; font-size: 16px; font-weight: 800; color: var(--ink); }

.page-store .grid-2{ display: grid; gap: 14px; grid-template-columns: 1.1fr 1fr; }
@media (max-width: 980px){ .page-store .grid-2{ grid-template-columns: 1fr; } }

.page-store .field{ display: grid; gap: 8px; }
.page-store .field.inline{ grid-template-columns: 180px 1fr; align-items: center; }
@media (max-width: 720px){ .page-store .field.inline{ grid-template-columns: 1fr; } }
.page-store .f-label{ font-weight: 800; color: #374151; }
.page-store .f-help{ color: var(--sub); font-size: 12px; }

.page-store .input,
.page-store select,
.page-store textarea{
  width: 100%; padding: 12px 14px; border: 1.5px solid var(--line); border-radius: var(--r-12); background: #fff; outline: none; font-size: 15px;
}
.page-store .input:focus,
.page-store select:focus,
.page-store textarea:focus{
  border-color: var(--brand); box-shadow: 0 0 0 3px rgba(255, 107, 0, .10);
}

.page-store .toggle{ display: inline-flex; align-items: center; gap: 10px; }
.page-store .toggle .label{ font-weight: 700; color: var(--ink); }

.page-store .chip{ background: var(--brand-tint-2); color: var(--brand-700); border: 1px solid #ffd9be; padding: 6px 10px; border-radius: var(--pill); font-weight: 700; font-size: 12px; }

.page-store .divider{ height: 1px; background: var(--line); margin: 8px 0 14px; border-radius: 1px; }

.page-store .savebar{
  position: sticky; bottom: 0; z-index: 5;
  display: flex; justify-content: flex-end; gap: 8px;
  padding: 12px 0 6px;
  background: linear-gradient(to top, rgba(247,248,250,0.95), rgba(247,248,250,0));
}

/* =========================================================
   메뉴 관리 — 오버라이드(은은한 주황)
   ========================================================= */
.page.page-menu .menu-table tbody tr:hover{ background: #fffaf5; }
.page.page-menu .badge.orange{ background: var(--brand-tint-2); border-color: #ffd9be; color: var(--brand-700); }
.page.page-menu .menu-search:focus,
.page.page-menu .menu-select:focus{ border-color: var(--brand); box-shadow: 0 0 0 3px rgba(255,107,0,.10); }

/* =========================================================
   공통 접근성: 포커스 링 유틸
   ========================================================= */
.focus-ring:focus{ outline: none; box-shadow: 0 0 0 3px rgba(255,107,0,.16); border-color: var(--brand) !important; }

/* =========================================================
   수동 주문 모달 (ManualOrderModal)
   ========================================================= */
.manual-order{ display: grid; grid-template-columns: 1.1fr 0.9fr; gap: var(--s-6); padding-top: var(--s-2); }
@media (max-width: 900px){ .manual-order{ grid-template-columns: 1fr; } }
.manual-order .f-label{ font-weight: 800; color: var(--ink); margin: 0 0 8px 0; }

.manual-order .radio-grid{ display: flex; flex-wrap: wrap; gap: 10px; }
.manual-order .radio-pill{
  display: inline-flex; align-items: center; gap: 8px; padding: 10px 12px;
  border: 1.5px solid var(--line); border-radius: var(--pill); background: #fff; color: #111827;
  cursor: pointer; user-select: none; transition: background .15s, border-color .15s, color .15s, transform .04s, box-shadow .15s;
}
.manual-order .radio-pill:hover{ background: var(--brand-tint-2); }
.manual-order .radio-pill:active{ transform: translateY(1px); }
.manual-order .radio-pill input{ display: none; }
.manual-order .radio-pill.checked{ border-color: var(--brand); background: var(--brand-tint-2); color: var(--brand-700); box-shadow: 0 0 0 3px rgba(255,107,0,.10); }

.manual-order .menu-pick-list{ display: flex; flex-wrap: wrap; gap: 10px; }
.manual-order .menu-pick{
  display: inline-flex; align-items: center; gap: 8px; padding: 10px 12px;
  border-radius: var(--pill); border: 1px solid #e8ebef; background: #fff; font-weight: 700; cursor: pointer;
  transition: background .15s, border-color .15s, transform .04s, box-shadow .15s;
}
.manual-order .menu-pick:hover{ background: #fff6ef; border-color: #ffd9be; box-shadow: var(--shadow-sm); }
.manual-order .menu-pick:active{ transform: translateY(1px); }
.manual-order .menu-pick .muted{ color: var(--sub); font-weight: 600; }

.manual-order .cart-box{ min-height: 180px; background: #fff; border: 1px solid var(--line); border-radius: var(--r-12); padding: 12px; }
.manual-order .cart-row{
  display: grid; grid-template-columns: 1fr auto auto auto;
  gap: 10px; align-items: center; padding: 8px 6px; border-bottom: 1px solid #f1f5f9;
}
.manual-order .cart-row:last-child{ border-bottom: 0; }
.manual-order .cart-name{ font-weight: 700; color: var(--ink); }

/* 수량 카운터 고정 폭 */
.manual-order .cart-qty{
  display: flex; align-items: center; justify-content: center; gap: 6px;
  border: 1px solid var(--line); border-radius: var(--pill); padding: 4px 6px; background: #fff;
  width: 100px; flex-shrink: 0;
}
.manual-order .qty-btn{
  width: 28px; height: 28px; display: grid; place-items: center;
  border: 1px solid #e6e9ee; border-radius: 8px; background: #fff; cursor: pointer;
  transition: background .15s, border-color .15s, transform .04s; font-weight: 800; line-height: 1; flex-shrink: 0;
}
.manual-order .cart-qty span{ min-width: 16px; text-align: center; font-weight: 700; }
.manual-order .qty-btn:hover{ background: #f7f8fb; border-color: #dfe4ea; }
.manual-order .qty-btn:active{ transform: translateY(1px); }

.manual-order .cart-amount{ font-weight: 800; font-variant-numeric: tabular-nums; }
.manual-order .remove-btn{
  width: 28px; height: 28px; display: grid; place-items: center;
  border: 1px solid #f1d0c0; color: var(--brand-700); background: #fff6ef;
  border-radius: 8px; cursor: pointer; transition: filter .15s, transform .04s;
}
.manual-order .remove-btn:hover{ filter: brightness(0.98); }
.manual-order .remove-btn:active{ transform: translateY(1px); }
.manual-order .kpi{ font-size: 18px; font-weight: 900; letter-spacing: .1px; }

/* Popover */
.popover{ position: relative; display: inline-block; }
.popover > .btn.ghost{
  padding: 4px 8px; font-size: 20px; line-height: 1; border-radius: 8px;
  color: var(--muted); transition: background 0.15s;
}
.popover > .btn.ghost:hover{ background: #f5f6f8; }
.popover-menu{
  position: absolute; right: 0; top: 100%; margin-top: 4px; min-width: 120px;
  background: #fff; border: 1px solid #e6e9ee; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.08);
  display: flex; flex-direction: column; padding: 4px 0; z-index: 1000;
}
.popover-item{
  text-align: left; padding: 8px 12px; font-size: 14px; color: var(--ink);
  background: none; border: none; cursor: pointer; transition: background 0.15s, color 0.15s;
}
.popover-item:hover{ background: #f5f6f8; }
.popover-item:last-child{ color: #e74c3c; }
.popover-item:last-child:hover{ background: #fdecea; }

/* =========================================================
   테이블 배치 에디터 (TablesPage) — 드래그 앤 드랍
   ========================================================= */
.page.page-tables .section-title { margin: 6px 0 10px; }
.floor{
  position: relative; height: 520px; border: 1px solid var(--line); border-radius: 16px;
  background:
    linear-gradient(to right, #f2f4f7 1px, transparent 1px) 0 0 / 20px 20px,
    linear-gradient(to bottom, #f2f4f7 1px, transparent 1px) 0 0 / 20px 20px,
    #fff;
  box-shadow: var(--shadow-sm); overflow: hidden; outline: none;
}
.floor-empty{ position: absolute; inset: 0; display: grid; place-items: center; color: var(--sub); font-weight: 700; }

.seat{
  position: absolute;
  padding: 18px 16px;
  min-width: 132px;   /* 텍스트가 한 줄에 들어갈 최소폭 */
  min-height: 96px;
  border-radius: 16px;
  background: #fff;
  border: 1.5px solid #e6e9ee;
  box-shadow: 0 2px 8px rgba(15,23,42,.06);
  display: block;     /* grid로 인한 예상치 못한 줄바꿈 방지 */
  cursor: grab; user-select: none;
  transition: box-shadow .15s, border-color .15s, transform .04s;
}
.seat:active{ cursor: grabbing; transform: translateY(1px); }

/* 제목 줄깨짐 방지(강제) */
.seat-name{
  font-weight: 800;
  font-size: 18px;
  line-height: 1.2;
  color: var(--ink);
  margin-bottom: 10px;
  white-space: nowrap !important;   /* ← 핵심 */
  word-break: keep-all !important;  /* ← 핵심 */
  overflow: hidden;
  text-overflow: ellipsis;
}
.seat:active{ cursor: grabbing; transform: translateY(1px); }
.seat.is-selected{ border-color: var(--brand-400, #ffa94d); box-shadow: 0 0 0 3px rgba(255,107,0,.10); }
.seat:focus-visible{ outline: none; box-shadow: 0 0 0 3px rgba(255,107,0,.18); border-color: var(--brand); }


.seat-del{
  position: absolute; top: -10px; right: -10px; width: 26px; height: 26px; display: grid; place-items: center;
  border-radius: 999px; border: 1px solid #ffd9be; background: #fff6ef; color: var(--brand-700);
  font-weight: 900; cursor: pointer; transition: filter .15s, transform .04s;
}
.seat-del:hover{ filter: brightness(0.98); }
.seat-del:active{ transform: translateY(1px); }
.seat-grip{ position: absolute; bottom: 6px; right: 8px; font-weight: 900; color: #c5cbd5; pointer-events: none; }

/* 툴바의 스냅 라벨 */
.page.page-tables .toolbar-right .kv{
  padding: 8px 10px; background: #fff; border: 1px solid var(--line); border-radius: 10px;
}
